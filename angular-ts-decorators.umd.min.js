!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("angular"),require("reflect-metadata"),require("tslib")):"function"==typeof define&&define.amd?define(["exports","angular","reflect-metadata","tslib"],n):n(e["angular-ts-decorators"]={},e.angular,null,e.tslib_1)}(this,function(e,n,t,r){"use strict";function o(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}function i(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function c(e){return e.substr(1,e.length-2)}function a(e){return/^[\[].*[\]]$/g.test(e)}function u(e,n){return Reflect.getMetadata(e,n)}function s(e,n,t){Reflect.defineMetadata(e,n,t)}function l(e){return u(A.name,e)}function f(e){return u(A.declaration,e)}function d(e){return e?A.injections+":"+e:""+A.injections}function p(e){var n=u(d(),e);!e.$inject&&n&&(e.$inject=n)}function v(e,n){var t=u(A.name,n),r=u(A.options,n),o=u(A.listeners,r.controller),i=u(A.viewChildren,n);(o||i)&&(r.controller=m(r.controller,o,i)),e.component(t,r)}function m(t,c,a){void 0===c&&(c={}),void 0===a&&(a={});var u=Object.keys(c),s=Object.keys(a),d=function(t){function d(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=t.apply(this,n)||this;return o.$element=e,o}return r.__extends(d,t),d.prototype._updateViewChildren=function(){var t=this;s.forEach(function(r){var c,u=a[r];if("string"!=typeof u.selector){var s=f(u.selector);if(s!==e.Declaration.Component&&s!==e.Declaration.Directive)return;c=i(l(u.selector))}else c="#"+u.selector;var d=Array.prototype.slice.call(t.$element[0].querySelectorAll(c)).map(function(e){var t="string"==typeof u.selector?e.localName:c,r=n.element(e),i=r&&r.controller(o(t));return u.read?new k(r):i||new k(r)}).filter(function(e){return!!e});d.length?t[r]=u.first?d[0]:d:t[r]=void 0})},d.prototype.$postLink=function(){var e=this;t.prototype.$postLink&&t.prototype.$postLink.call(this),u.forEach(function(n){var t=c[n].eventName;e.$element.on(t+".HostListener",e[n].bind(e))}),this._updateViewChildren()},d.prototype.$onChanges=function(e){t.prototype.$onChanges&&t.prototype.$onChanges.call(this,e),this._updateViewChildren()},d.prototype.$onDestroy=function(){t.prototype.$onDestroy&&t.prototype.$onDestroy.call(this),u.length&&this.$element.off(".HostListener")},d}(t);return d.$inject=["$element"].concat(t.$inject||[]),d}function y(e){var n=e.prototype;g(n).forEach(function(e){var t=q[e];n[t]=n[e]})}function g(e){return Object.keys(q).filter(function(t){return n.isFunction(e[t])})}function h(e,n){var t,r=u(A.name,n),o=u(A.options,n);y(n);var i=u(A.listeners,n),c=u(A.viewChildren,n);o.controller=i||c?m(n,i,c):n,t=function(){return o},e.directive(r,t)}function b(e,n){n.forEach(function(n){if(n.provide){var t=n.provide;n.useClass&&n.useClass instanceof Function?e.service(t,n.useClass):n.useFactory&&n.useFactory instanceof Function?(n.useFactory.$inject=n.deps||n.useFactory.$inject,e.factory(t,n.useFactory)):n.useValue&&e.constant(t,n.useValue)}else{var r=u(A.name,n);r&&e.service(r,n)}})}function C(e,n){var t=u(A.name,n),r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0].instantiate(n);return r.transform.bind(r)};r.$inject=["$injector"].concat(n.$inject||[]),e.filter(t,r)}function $(e,n,t,r){var o=e.constructor,i=u(A.bindings,o)||{};i[n]=r||t,s(A.bindings,i,o)}function D(e,n,t){var r=e.constructor,o=u(A.require,r)||{};o[n]=t,s(A.require,o,r)}function j(e,n,t,r,o){var i=e.constructor,c=u(A.viewChildren,i)||{};c[n]={first:o,selector:t,read:r},s(A.viewChildren,c,i)}var w=function(){function e(){}return e.bootstrapModule=function(e,t){void 0===t&&(t={strictDi:!1});var r;switch(typeof e){case"string":r=e;break;case"object":r=e.name;break;case"function":default:var o=e.module;if(!o)throw Error("Argument moduleType should be NgModule class, angular.module object or module name string");r=o.name}var i=!0===t.strictDi;n.element(document).ready(function(){n.bootstrap(document.body,[r],{strictDi:i})})},e}(),k=function(){return function(e){return e.nativeElement=e[0],e}}();!function(e){e.Component="Component",e.Directive="Directive",e.Pipe="Pipe"}(e.Declaration||(e.Declaration={}));var A={declaration:"custom:declaration",name:"custom:name",bindings:"custom:bindings",require:"custom:require",options:"custom:options",listeners:"custom:listeners",viewChildren:"custom:viewChildren",injections:"custom:injections",run:"custom:runMethods",config:"custom:configMethods"},q={ngOnInit:"$onInit",ngOnDestroy:"$onDestroy",ngDoCheck:"$doCheck",ngOnChanges:"$onChanges",ngAfterViewInit:"$postLink"},_=function(e,n,t){var r=e[n],o=u(d(n),e)||[],i=u(t,e)||[];i.push(o.concat([r])),s(t,i,e)},E=Function;e.platformBrowserDynamic=function(){return w},e.Component=function(n){var t=n.selector,i=r.__rest(n,["selector"]);return function(n){i.controller=n;var r=a(t),l=u(A.bindings,n);l&&(r?(i.bindToController=l,i.controllerAs=i.controllerAs||"$ctrl"):i.bindings=l);var f=u(A.require,n);f&&(i.require=f),r&&(i.restrict="A"),p(n),y(n);var d=r?c(t):t;s(A.name,o(d),n),s(A.declaration,r?e.Declaration.Directive:e.Declaration.Component,n),s(A.options,i,n)}},e.Directive=function(n){var t=n.selector,i=r.__rest(n,["selector"]);return function(n){var r=u(A.bindings,n);r&&(i.bindToController=r);var l=u(A.require,n);l&&(i.require=l,i.bindToController||(i.bindToController=!0)),i.restrict=i.restrict||"A",p(n);var f=a(t)?c(t):t;s(A.name,o(f),n),s(A.declaration,e.Declaration.Directive,n),s(A.options,i,n)}},e.Injectable=function(e){return function(n){s(A.name,e||n.name,n),p(n)}},e.Inject=function(e){return function(n,t,r){var o=d(t),i=u(o,n)||[];i[r]=e,s(o,i,n),t&&Array.isArray(n[t])?n[t][r]=e:n.$inject&&(n.$inject[r]=e)}},e.Pipe=function(n){return function(t){s(A.name,n.name,t),s(A.declaration,e.Declaration.Pipe,t)}},e.Input=function(e){return function(n,t){return $(n,t,"<?",e)}},e.Output=function(e){return function(n,t){return $(n,t,"&",e)}},e.ViewParent=function(e){return function(n,t){return D(n,t,e)}},e.NgModule=function(t){var r=t.id,o=(t.bootstrap,t.declarations),i=void 0===o?[]:o,c=t.imports,a=void 0===c?[]:c,s=t.providers,l=void 0===s?[]:s;return function(t){var o=a.map(function(e){return"string"==typeof e?e:e.module.name});r||(r=t.name);var c=n.module(r,o);i.forEach(function(n){switch(u(A.declaration,n)){case e.Declaration.Component:v(c,n);break;case e.Declaration.Directive:h(c,n);break;case e.Declaration.Pipe:C(c,n)}}),l&&b(c,l);var s=u(A.run,t.prototype);s&&s.forEach(function(e){c.run(e)});var f=u(A.config,t.prototype);f&&f.forEach(function(e){c.config(e)});var d=t.config,p=t.run;d&&c.config(d),p&&c.run(p),t.module=c}},e.Run=function(){return function(e,n){return _(e,n,A.run)}},e.Config=function(){return function(e,n){return _(e,n,A.config)}},e.HostListener=function(e,n){return function(t,r,o){var i=o.value;if("function"!=typeof i)throw new Error("@HostListener decorator can only be applied to methods not: "+typeof i);var c=t.constructor,a=u(A.listeners,c)||{};a[r]={eventName:e,args:n},s(A.listeners,a,c)}},e.ViewChild=function(e,n){return void 0===n&&(n={}),function(t,r){return j(t,r,e,n.read,!0)}},e.ViewChildren=function(e,n){return void 0===n&&(n={}),function(t,r){return j(t,r,e,n.read,!1)}},e.ElementRef=k,e.ngLifecycleHooksMap=q,e.Type=E,e.isType=function(e){return"function"==typeof e},e.metadataKeys=A,e.kebabToCamel=o,e.camelToKebab=i,e.getAttributeName=c,e.isAttributeSelector=a,e.getMetadata=u,e.defineMetadata=s,e.getTypeName=l,e.getTypeDeclaration=f,e.injectionsKey=d,e.addStaticInjections=p,Object.defineProperty(e,"__esModule",{value:!0})});